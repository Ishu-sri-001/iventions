'use client'
import React, { useEffect } from 'react'
import gsap from 'gsap'
import Image from 'next/image'

const ClipPath = ({ clipRef }) => {
  useEffect(() => {
    const ctx = gsap.context(() => {
      gsap.set('.clip-container', {
        scale: 0,
        rotateZ: -180,
        y:'-4vw',
        x:'2vw',
      })
      const tl = gsap.timeline()
      tl.to('.clip-container', {
        scale: 1,
        duration: 1,
        delay:0.2,
        ease:'power3.in'
      })
      .to('.bottom-clip', {
        clipPath: 'polygon(50% 2.45%, 100% 38.41%, 100% 100%, 0% 100%, 0% 40.5%)',
        duration:0.7,
        ease:'power2.out',
      },'-=0.2')
      .to('.clip-container', {
        rotateZ: 0,
        duration:1.2,
        y:'8vw',
        x:'-2vw',
          // ease: "cubic-bezier(0.76, 0, 0.24, 1)",
          // ease:'cubic-bezier(0.45, 0, 0.55, 1)',
          // ease:'cubic-bezier(0.65,0,0.35,1)'
        // ease: CustomEase.create("custom", "M0,0,C0.126,0.382,0.282,0.674,0.44,0.822,0.632,1.002,0.818,1.001,1,1"),
        ease:'power4.inOut'
      },'=-0.3')
    })
    return () => ctx.revert()
  }, [])

  return (
    <div className='h-screen w-screen absolute inset-0'>
      <div
        ref={clipRef}
        className='w-full h-screen scale-0 origin-center clip-container '
      >
        <div
          style={{
            clipPath: 'polygon(25% 0, 75% 0, 51% 100%, 49% 100%)',
          }}
          className='absolute top-[-70vw] left-[35vw] w-[110vw] top-clip h-[110vw] rotate-[45deg] bg-[#9C93E8]'
        />
        <div
          style={{
            clipPath:
              'polygon(50% 2.45%, 80% 100%, 80% 100%, 20% 100%, 20% 100%)',
          }}
          className='absolute overflow-hidden top-[2vw] bottom-clip left-[-37vw] rotate-45 w-[110vw] h-[110vw] bg-[#9C93E8]'
        />
       
      </div>

      {/* <div className='absolute left-0 top-[70%] mix-blend-color-burn !h-auto w-screen px-[2vw]'>

       <svg preserveAspectRatio="none" width="1856" height="266" viewBox="0 0 1856 266" fill="none" xmlns="http://www.w3.org/2000/svg" className='w-full h-full object-cover'>
<g >
<path d="M0 260V5H64V260H0Z" fill="#9C93E8"/>
<path d="M239.476 260L324 6H254.491L195.483 199.872C192.591 210.384 179.615 209.216 179.615 199.872C179.615 190.527 181.517 6 181.517 6H75L157.398 260H239.447H239.476Z" fill="#9C93E8"/>
<path d="M564 259.971V5H642.648L734.598 161.613C738.011 167.43 746.938 165.003 746.938 158.251V5.02921H811V260H732.352L640.402 103.387C636.989 97.5705 628.062 99.9966 628.062 106.749V259.971H564Z" fill="#9C93E8"/>
<path d="M1381 259.971V5H1459.65L1551.6 161.613C1555.01 167.43 1563.94 165.003 1563.94 158.251V5.02921H1628V260H1549.35L1457.4 103.387C1453.99 97.5705 1445.06 99.9966 1445.06 106.749V259.971H1381Z" fill="#9C93E8"/>
<path d="M895.744 259V66.3613C895.744 60.8648 891.326 56.4209 885.861 56.4209H822V4H1033V56.4209H969.488C964.023 56.4209 959.605 60.8648 959.605 66.3613V259H895.773H895.744Z" fill="#9C93E8"/>
<path d="M1044 260V5H1108V260H1044Z" fill="#9C93E8"/>
<path d="M1119 132.81C1119 56.2473 1164.19 0 1245 0C1325.81 0 1371 56.2765 1371 132.81C1371 209.344 1325.08 266 1245 266C1164.92 266 1119 209.724 1119 132.81ZM1305.48 132.81C1305.48 88.6472 1291.24 52.336 1244.97 52.336C1198.7 52.336 1184.47 88.6472 1184.47 132.81C1184.47 176.973 1198.35 213.635 1244.97 213.635C1291.59 213.635 1305.48 177.324 1305.48 132.81Z" fill="#9C93E8"/>
<path d="M1639 173.782H1703.63C1703.63 203.353 1726.02 214.388 1754.78 214.388C1778.56 214.388 1790.64 204.784 1790.64 191.589C1790.64 169.87 1765.43 164.177 1730.27 153.493C1686.22 139.948 1646.8 122.87 1646.8 77.272C1646.8 21.7191 1690.12 0 1744.82 0C1804.12 0 1850.64 31.3525 1852.42 82.9645H1787.79C1784.94 63.3764 1769.33 51.612 1744.82 51.612C1725.64 51.612 1712.16 58.0342 1712.16 72.6304C1712.16 89.7371 1726.36 95.4296 1758.68 105.034C1806.63 119.28 1856 132.825 1856 185.517C1856 234.297 1819.06 266 1755.51 266C1691.95 266 1639.03 232.166 1639.03 173.752L1639 173.782Z" fill="#9C93E8"/>
<path d="M552.474 145.638C553 141.535 553 134.435 553 127.597C553 48.9146 507.157 0 433.352 0C359.547 0 309 51.9117 309 132.253C309 212.594 357.794 265 433.352 265C492.548 265 535.06 234.097 549.961 180.178L552.007 172.816H492.84L491.701 177.152C489.977 183.612 479.137 215.911 434.316 215.911C406.968 215.911 375.004 200.139 369.131 156.666C368.693 153.524 371.176 150.701 374.361 150.701H551.861L552.503 145.609L552.474 145.638ZM493.132 103.038H375.267C371.906 103.038 369.335 99.8951 370.124 96.6361C377.166 67.7122 400.715 49.0892 431.95 49.0892C466.661 49.0892 490.619 70.5348 493.132 103.038Z" fill="#9C93E8"/>
</g>
</svg>
      </div> */}

    </div>
  )
}

export default ClipPath
